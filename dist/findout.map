{"version":3,"sources":["redditapi.js","index.js"],"names":["search","searchTerm","searchLimit","sortBy","fetch","then","res","json","data","children","map","catch","err","console","log","searchForm","document","getElementById","searchInput","addEventListener","e","value","querySelector","showMessage","results","output","forEach","post","innerHTML","preventDefault","message","className","div","createElement","appendChild","createTextNode","searchContainer","insertBefore","setTimeout","remove"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACCA;;;;;;AAEA,MAAMe,aAAaC,SAASC,cAAT,CAAwB,aAAxB,CAAnB,EAHA;;AAIA,MAAMC,cAAcF,SAASC,cAAT,CAAwB,cAAxB,CAApB;;AAEA;AACAF,WAAWI,gBAAX,CAA4B,QAA5B,EAAsCC,KAAI;;AAEtC;AACA,UAAMnB,aAAaiB,YAAYG,KAA/B;AACA;AACA,UAAMlB,SAASa,SAASM,aAAT,CAAuB,8BAAvB,EAAuDD,KAAtE;AACA;AACA,UAAMnB,cAAac,SAASC,cAAT,CAAwB,OAAxB,EAAiCI,KAApD;;AAGA,QAAGpB,cAAc,EAAjB,EAAoB;AAChB;AACAsB,oBAAY,0BAAZ,EAAwC,cAAxC;AACH;AACD;AACAL,gBAAYG,KAAZ,GAAoB,EAApB;;AAEA;AACA,wBAAOrB,MAAP,CAAcC,UAAd,EAA0BC,WAA1B,EAAuCC,MAAvC,EACCE,IADD,CACMmB,WACN;AACI,YAAIC,SAAS,4BAAb;AACA;AACAD,gBAAQE,OAAR,CAAgBC,QAChB;AACIF,sBAAU;;;;;;;OAAV;AAQH,SAVD;;AAYAA,kBAAQ,OAAR;AACAT,iBAASC,cAAT,CAAwB,SAAxB,EAAmCW,SAAnC,GAA+CH,MAA/C;AACAZ,gBAAQC,GAAR,CAAYU,OAAZ;AACH,KApBD;;AAuBAJ,MAAES,cAAF;AACH,CA1CD;;AA6CA,SAASN,WAAT,CAAqBO,OAArB,EAA8BC,SAA9B,EAAyC;AACvC;AACA,UAAMC,MAAMhB,SAASiB,aAAT,CAAuB,KAAvB,CAAZ;AACA;AACAD,QAAID,SAAJ,GAAiB,SAAQA,SAAU,EAAnC;AACA;AACAC,QAAIE,WAAJ,CAAgBlB,SAASmB,cAAT,CAAwBL,OAAxB,CAAhB;AACA;AACA,UAAMM,kBAAkBpB,SAASC,cAAT,CAAwB,kBAAxB,CAAxB;AACA;AACA,UAAMjB,SAASgB,SAASC,cAAT,CAAwB,QAAxB,CAAf;;AAEA;AACAmB,oBAAgBC,YAAhB,CAA6BL,GAA7B,EAAkChC,MAAlC;;AAEA;AACAsC,eAAW,YAAU;AACjBtB,iBAASM,aAAT,CAAuB,QAAvB,EAAiCiB,MAAjC;AACH,KAFD,EAEE,IAFF;AAID;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kBDxEc;AACbvC,UAAQ,UAASC,UAAT,EAAqBC,WAArB,EAAkCC,MAAlC,EAA0C;;AAElD,WAAOC,MAAQ,uCAAsCH,UAAW,SAAQE,MAAO,UAASD,WAAY,EAA7F,EACLG,IADK,CACAC,OAAOA,IAAIC,IAAJ,EADP,EAELF,IAFK,CAEAG,QAAQA,KAAKA,IAAL,CAAUC,QAAV,CAAmBC,GAAnB,CAAuBF,QAAQA,KAAKA,IAApC,CAFR,EAGLG,KAHK,CAGCC,OAAOC,QAAQC,GAAR,CAAYF,GAAZ,CAHR,CAAP;AAIE;AAPW","file":"findout.map","sourcesContent":["export default {\r\n  search: function(searchTerm, searchLimit, sortBy) {\r\n   \r\n  return fetch (`http://www.reddit.com/search.json?q=${searchTerm}&sort=${sortBy}&limit=${searchLimit}`)\r\n   .then(res => res.json())\r\n   .then(data => data.data.children.map(data => data.data))\r\n   .catch(err => console.log(err))\r\n   }\r\n};\r\n\r\n","// import reddit\r\nimport reddit from './redditapi';\r\n\r\nconst searchForm = document.getElementById('search-form');\r\nconst searchInput = document.getElementById('search-input');\r\n\r\n// form event listener\r\nsearchForm.addEventListener('submit', e =>{\r\n\r\n    // Get search term\r\n    const searchTerm = searchInput.value;\r\n    //Get sortBy\r\n    const sortBy = document.querySelector('input[name=\"sortby\"]:checked').value;\r\n    // Get limit\r\n    const searchLimit =document.getElementById('limit').value;\r\n\r\n \r\n    if(searchTerm == ''){\r\n        //message\r\n        showMessage('please add a search-term', 'alert-danger');\r\n    }\r\n    // clear input\r\n    searchInput.value = '';\r\n\r\n    // search reddit\r\n    reddit.search(searchTerm, searchLimit, sortBy)\r\n    .then(results => \r\n    {\r\n        let output = '<div class=\"card-columns\">';\r\n        // loop through results\r\n        results.forEach(post =>\r\n        {\r\n            output+= `<div class=\"card\" >\r\n  <img class=\"card-img-top\" src=\"...\" alt=\"Card image cap\">\r\n  <div class=\"card-block\">\r\n    <h4 class=\"card-title\">Card title</h4>\r\n    <p class=\"card-text\">Some quick example text to build on the card title and make up the bulk of the card's content.</p>\r\n    <a href=\"#\" class=\"btn btn-primary\">Go somewhere</a>\r\n  </div>\r\n</div>`;\r\n        });\r\n\r\n        output+='<div>';\r\n        document.getElementById('results').innerHTML = output;\r\n        console.log(results);\r\n    }\r\n    )\r\n\r\n    e.preventDefault();\r\n});\r\n\r\n\r\nfunction showMessage(message, className) {\r\n  // Create div\r\n  const div = document.createElement('div');\r\n  // Add classes\r\n  div.className = `alert ${className}`;\r\n  // Add text\r\n  div.appendChild(document.createTextNode(message));\r\n  // Get parent\r\n  const searchContainer = document.getElementById('search-container');\r\n  // Get form\r\n  const search = document.getElementById('search');\r\n\r\n  // Insert alert\r\n  searchContainer.insertBefore(div, search);\r\n\r\n  // timeout for error message\r\n  setTimeout(function(){\r\n      document.querySelector('.alert').remove()\r\n  },3000)\r\n\r\n}\r\n"]}